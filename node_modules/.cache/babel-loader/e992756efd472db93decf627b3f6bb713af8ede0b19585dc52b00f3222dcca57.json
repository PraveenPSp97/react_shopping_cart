{"ast":null,"code":"import _toConsumableArray from\"D:/React/METAFRONTEND/react-shopping-cart/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/React/METAFRONTEND/react-shopping-cart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Children,createContext,useContext,useState}from\"react\";import{json}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";var BuyProviders=/*#__PURE__*/createContext();export var BuyProvider=function BuyProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setproduct=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem(\"cartItems\"))||[]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setcartItems=_useState4[1];var _useState5=useState(cartItems.length||0),_useState6=_slicedToArray(_useState5,2),cartCount=_useState6[0],setcartCount=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),allProducts=_useState8[0],setallProducts=_useState8[1];console.log(\"cartItems\",cartItems);var handleDeleteCart=function handleDeleteCart(id){var newCart=cartItems.filter(function(item){return item.id!=id;});setcartItems(newCart);localStorage.setItem(\"cartItems\",JSON.stringify(newCart));setcartCount(function(cartCount){return cartCount-1;});};var handleAddToCart=function handleAddToCart(newCart){console.log(\"inside cart\",newCart);var isNewCart=cartItems.find(function(cart){return cart.id==newCart.id;});if(!isNewCart){var newItems=[].concat(_toConsumableArray(cartItems),[newCart]);setcartItems(newItems);localStorage.setItem(\"cartItems\",JSON.stringify(newItems));setcartCount(function(cart){return cart+1;});}};return/*#__PURE__*/_jsx(BuyProviders.Provider,{value:{cartCount:cartCount,setcartCount:setcartCount,cartItems:cartItems,setcartItems:setcartItems,handleAddToCart:handleAddToCart,handleDeleteCart:handleDeleteCart,products:products,setproduct:setproduct,setallProducts:setallProducts,allProducts:allProducts},children:children});};export var useProvider=function useProvider(){return useContext(BuyProviders);};","map":{"version":3,"names":["React","Children","createContext","useContext","useState","json","BuyProviders","BuyProvider","children","products","setproduct","JSON","parse","localStorage","getItem","cartItems","setcartItems","length","cartCount","setcartCount","allProducts","setallProducts","console","log","handleDeleteCart","id","newCart","filter","item","setItem","stringify","handleAddToCart","isNewCart","find","cart","newItems","useProvider"],"sources":["D:/React/METAFRONTEND/react-shopping-cart/src/components/BuyProvider.js"],"sourcesContent":["import React, { Children, createContext, useContext, useState } from \"react\";\r\nimport { json } from \"react-router\";\r\n\r\nconst BuyProviders = createContext();\r\n\r\nexport const BuyProvider = ({ children }) => {\r\n  const [products, setproduct] = useState([]);\r\n\r\n  const [cartItems, setcartItems] = useState(\r\n    JSON.parse(localStorage.getItem(\"cartItems\")) || []\r\n  );\r\n  const [cartCount, setcartCount] = useState(cartItems.length || 0);\r\n  const [allProducts, setallProducts] = useState([]);\r\n  console.log(\"cartItems\", cartItems);\r\n\r\n  const handleDeleteCart = (id) => {\r\n    const newCart = cartItems.filter((item) => item.id != id);\r\n    setcartItems(newCart);\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(newCart));\r\n    setcartCount((cartCount) => cartCount - 1);\r\n  };\r\n  const handleAddToCart = (newCart) => {\r\n    console.log(\"inside cart\", newCart);\r\n    const isNewCart = cartItems.find((cart) => cart.id == newCart.id);\r\n\r\n    if (!isNewCart) {\r\n      const newItems = [...cartItems, newCart];\r\n      setcartItems(newItems);\r\n\r\n      localStorage.setItem(\"cartItems\", JSON.stringify(newItems));\r\n      setcartCount((cart) => cart + 1);\r\n    }\r\n  };\r\n  return (\r\n    <BuyProviders.Provider\r\n      value={{\r\n        cartCount: cartCount,\r\n        setcartCount,\r\n        cartItems,\r\n        setcartItems,\r\n        handleAddToCart,\r\n        handleDeleteCart,\r\n        products,\r\n        setproduct,\r\n        setallProducts,\r\n        allProducts,\r\n      }}\r\n    >\r\n      {children}\r\n    </BuyProviders.Provider>\r\n  );\r\n};\r\n\r\nexport const useProvider = () => {\r\n  return useContext(BuyProviders);\r\n};\r\n"],"mappings":"sQAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAC5E,OAASC,IAAI,KAAQ,cAAc,CAAC,2CAEpC,GAAMC,aAAY,cAAGJ,aAAa,EAAE,CAEpC,MAAO,IAAMK,YAAW,CAAG,QAAdA,YAAW,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CACpC,cAA+BJ,QAAQ,CAAC,EAAE,CAAC,wCAApCK,QAAQ,eAAEC,UAAU,eAE3B,eAAkCN,QAAQ,CACxCO,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,EAAE,CACpD,yCAFMC,SAAS,eAAEC,YAAY,eAG9B,eAAkCZ,QAAQ,CAACW,SAAS,CAACE,MAAM,EAAI,CAAC,CAAC,yCAA1DC,SAAS,eAAEC,YAAY,eAC9B,eAAsCf,QAAQ,CAAC,EAAE,CAAC,yCAA3CgB,WAAW,eAAEC,cAAc,eAClCC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAER,SAAS,CAAC,CAEnC,GAAMS,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,EAAE,CAAK,CAC/B,GAAMC,QAAO,CAAGX,SAAS,CAACY,MAAM,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACH,EAAE,EAAIA,EAAE,GAAC,CACzDT,YAAY,CAACU,OAAO,CAAC,CACrBb,YAAY,CAACgB,OAAO,CAAC,WAAW,CAAElB,IAAI,CAACmB,SAAS,CAACJ,OAAO,CAAC,CAAC,CAC1DP,YAAY,CAAC,SAACD,SAAS,QAAKA,UAAS,CAAG,CAAC,GAAC,CAC5C,CAAC,CACD,GAAMa,gBAAe,CAAG,QAAlBA,gBAAe,CAAIL,OAAO,CAAK,CACnCJ,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEG,OAAO,CAAC,CACnC,GAAMM,UAAS,CAAGjB,SAAS,CAACkB,IAAI,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACT,EAAE,EAAIC,OAAO,CAACD,EAAE,GAAC,CAEjE,GAAI,CAACO,SAAS,CAAE,CACd,GAAMG,SAAQ,8BAAOpB,SAAS,GAAEW,OAAO,EAAC,CACxCV,YAAY,CAACmB,QAAQ,CAAC,CAEtBtB,YAAY,CAACgB,OAAO,CAAC,WAAW,CAAElB,IAAI,CAACmB,SAAS,CAACK,QAAQ,CAAC,CAAC,CAC3DhB,YAAY,CAAC,SAACe,IAAI,QAAKA,KAAI,CAAG,CAAC,GAAC,CAClC,CACF,CAAC,CACD,mBACE,KAAC,YAAY,CAAC,QAAQ,EACpB,KAAK,CAAE,CACLhB,SAAS,CAAEA,SAAS,CACpBC,YAAY,CAAZA,YAAY,CACZJ,SAAS,CAATA,SAAS,CACTC,YAAY,CAAZA,YAAY,CACZe,eAAe,CAAfA,eAAe,CACfP,gBAAgB,CAAhBA,gBAAgB,CAChBf,QAAQ,CAARA,QAAQ,CACRC,UAAU,CAAVA,UAAU,CACVW,cAAc,CAAdA,cAAc,CACdD,WAAW,CAAXA,WACF,CAAE,UAEDZ,QAAQ,EACa,CAE5B,CAAC,CAED,MAAO,IAAM4B,YAAW,CAAG,QAAdA,YAAW,EAAS,CAC/B,MAAOjC,WAAU,CAACG,YAAY,CAAC,CACjC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}